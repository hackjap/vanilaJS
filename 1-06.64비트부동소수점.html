<!DOCTYPE html>
<html>
<head>
    <title>Document</title>
</head>
<body>
    <script>
        let x = 0.1 + 0.2;
        console.log(x); //0.3
        //0.3000000000000000004
        // javascript는 자바와 달리 숫자의 별도 타입이 없기 때문에 문제가 발생
        // 64bit 부동소수점
        
        console.log(1/2); // 0.5(유한소수) - 분모가 2의 거듭제곱인 경우에만 
        console.log(2/3); // 0.666666666666(무한소수)

        // 0.1 = 1/10
        // 0.2 = 1/5
        
        console.log((0.1).toString(2));
        //0.0001100110011001100110011001100110011001100110011001101
        //64비트부동소수점 -> 65번의 비트를 반올림 -> 근사치 -> 문제점 

        //1비트 - 양수 0, 음수 1
        //11비트 - 지수부 - 2^(n-1)-1 + m 
        //2^10 = 1024 -1 -4 = 1019

        console.log((1019).toString(2));
        //1111111011
 

        //52비트 - 가수부 ( 데이터에 값이 담기는 부분)

        // !! JS에서 소수점의 연산의 경우에 64비트부동소수점을 고려하여야함 
        // 연산이 필요한 경우에는 외부 라이브러리를 사용하는 것을 추천한다. 
        // BigNumber.js
        // Big.js
        // Decimal.js

        let x2 = 9999999999999999;
        // 9007199254740991
        console.log(x2);
        console.log(Number.MAX_SAFE_INTEGER);

        // JS는 숫자의 타입에 따라 변수가 없기 떄문에 BigNumber 같은 라이브러리를 사용해야 한다.!
    </script>
</body>
</html>